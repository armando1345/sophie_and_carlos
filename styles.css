:root{
  /* Pastel, warm, soft */
  --bg: #FFF8F1;         /* warm cream */
  --paper: #fff;          /* paper */
  --ink: #30263A;         /* inky purple */
  --muted: #6E6277;       /* soft text */
  --rose: #FFDDE8;        /* baby pink */
  --lilac: #E9E0FF;       /* soft lilac */
  --sky: #DFF3FF;         /* sky */
  --butter: #FFF1B6;      /* butter */
  --accent: #FF7DA3;      /* raspberry */
  --accent-ink: #8D3752;  /* dark raspberry */
  --shadow: 0 12px 40px rgba(48,38,58,.08);

  --r-lg: 22px; --r-xl: 30px; --r-xxl: 42px;
  --container: 1120px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);
  font-family: Nunito, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  line-height:1.55; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
body.modal-open{overflow:hidden}
a{color:inherit;text-decoration:none}
button{font:inherit}
img,video{max-width:100%;height:auto}

/* Soft paper-like noise */
.noise{position:fixed;inset:0;pointer-events:none;opacity:.06;mix-blend-mode:multiply;z-index:0;background-image:url('data:image/svg+xml;utf8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22400%22%3E%3Cfilter id=%22n%22%3E%3CfeTurbulence baseFrequency=%220.9%22 numOctaves=%222%22 stitchTiles=%22stitch%22 type=%22fractalNoise%22/%3E%3CfeColorMatrix type=%22saturate%22 values=%220%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23n)%22 opacity=%220.08%22/%3E%3C/svg%3E');}

.container{max-width:var(--container);margin:0 auto;padding:28px 18px 72px;position:relative;z-index:1}

/* Header */
header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:64px;height:64px;border-radius:20px;display:grid;place-items:center;background:var(--rose);box-shadow:var(--shadow);position:relative;transform:rotate(-2.2deg)}
.logo::after{content:"";position:absolute;inset:-6px; border:2px dashed rgba(141,55,82,.2); border-radius:24px;}
.logomark{width:40px;height:40px}
h1{margin:0;font-weight:900;letter-spacing:.01em;font-size:clamp(26px,3.6vw,36px)}
.subtitle{margin:0;color:var(--muted);font-size:18px}
.head-right{display:flex;align-items:center;gap:10px}
.chip{border:2px dashed rgba(141,55,82,.25);background:var(--paper);color:var(--accent-ink);border-radius:999px;padding:8px 12px;display:inline-flex;align-items:center;gap:.5ch;line-height:1;font-weight:800;font-size:12px;box-shadow:var(--shadow)}

/* Hero */
.hero{position:relative;border-radius:var(--r-xxl);padding:22px;border:1px solid rgba(48,38,58,.10);background:
  radial-gradient(1200px 600px at 90% -30%, var(--sky), transparent 70%),
  radial-gradient(1200px 600px at -10% 110%, var(--lilac), transparent 70%),
  var(--paper);
  box-shadow:var(--shadow); overflow:hidden
}
.hero h2{font-weight:900;font-size:clamp(22px,4.5vw,38px);margin:0 0 8px}
.hero p{margin:0;color:var(--muted)}

.star{position:absolute; right:24px; top:20px; width:74px; height:74px; opacity:.5; animation:float 6s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-6px) rotate(-3deg)}}

.message-block{margin:24px 0 0;padding:22px;border-radius:var(--r-xl);background:var(--paper);border:1px solid rgba(48,38,58,.10);box-shadow:var(--shadow)}
.message-title{margin:0 0 10px;font-weight:900;font-size:clamp(18px,3.6vw,28px);letter-spacing:.01em}
.message-text{margin:0;color:var(--muted);font-size:16px;line-height:1.7}

/* Tools */
.tools{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin:18px 0}
.search{position:relative;flex:1;min-width:220px}
.search input{width:100%;padding:14px 16px 14px 42px;border-radius:16px;border:1px solid rgba(48,38,58,.12);background:var(--paper);font-weight:700;outline:none;box-shadow:var(--shadow)}
.search .ico{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:18px;height:18px;color:var(--muted)}
.filters{display:flex;gap:8px;flex-wrap:wrap}
.filter{padding:8px 12px;border-radius:999px;border:1px dashed rgba(48,38,58,.18);background:var(--paper);font-weight:800}
.filter[aria-pressed="true"]{background:var(--rose)}
.tool-actions{display:flex;gap:8px;align-items:center}
.btn-ghost{
  border:1px dashed rgba(48,38,58,.18);
  background:rgba(255,221,232,.5);
  color:var(--accent-ink);
  font-weight:800;
  letter-spacing:.06em;
  text-transform:uppercase;
}
.btn-ghost:hover{
  background:rgba(255,221,232,.65);
  box-shadow:0 12px 30px rgba(48,38,58,.14);
}

/* Grid */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}
.empty{
  grid-column:1/-1;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:26px;
}
.empty__body{
  background:var(--paper);
  border:1px dashed rgba(48,38,58,.16);
  border-radius:22px;
  padding:22px;
  text-align:center;
  box-shadow:var(--shadow);
}
.empty__title{margin:0 0 6px;font-weight:900;font-size:18px}
.empty__text{margin:0 0 16px;color:var(--muted)}
.empty__actions{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
.card{position:relative;border-radius:26px;border:1px solid rgba(48,38,58,.10);background:var(--paper);min-height:180px;display:flex;flex-direction:column;overflow:hidden;box-shadow:var(--shadow);transition:transform .18s ease, box-shadow .18s ease;cursor:pointer}
.card:hover{transform:rotate(-.6deg) translateY(-2px);box-shadow:0 20px 40px rgba(48,38,58,.16)}
.card:focus-visible{outline:3px solid rgba(255,125,163,.45);outline-offset:4px}
.card:active{transform:translateY(2px) scale(.99);box-shadow:0 10px 20px rgba(48,38,58,.16)}
.card.card-pop{animation:cardPop .22s cubic-bezier(.16,1,.3,1)}
.tag{position:absolute;top:10px;left:10px;background:var(--butter);border-radius:999px;padding:6px 10px;font-size:12px;font-weight:900;border:1px dashed rgba(48,38,58,.22)}
.cover{aspect-ratio:4/3;object-fit:cover;background:linear-gradient(135deg,var(--rose),var(--sky))}
.content{padding:12px 14px}
.title{margin:0 0 4px;font-weight:900;letter-spacing:.01em}
.meta{margin:0;color:var(--muted);font-size:12px}

.card--media{
  overflow:hidden;
}
.card--media .cover{
  width:100%;
  height:auto;
  transform:translateZ(0);
  backface-visibility:hidden;
  image-rendering:-webkit-optimize-contrast;
  filter:saturate(1.06) contrast(1.04);
}
.card--media:hover .cover{
  filter:saturate(1.08) contrast(1.06);
}
.card--media .media-overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
  padding:16px;
  pointer-events:none;
}
.card--media .media-plate{
  width:100%;
  background:linear-gradient(135deg, rgba(255,255,255,.96), rgba(255,221,232,.9));
  border:1px solid rgba(48,38,58,.08);
  border-radius:18px;
  padding:14px 16px 16px;
  box-shadow:0 18px 36px rgba(48,38,58,.16);
}
.card--media .media-title{
  margin:0;
  font-weight:900;
  font-size:clamp(24px,3.2vw,34px);
  letter-spacing:.01em;
  color:var(--ink);
}
.card--media .media-sub{
  margin:6px 0 0;
  font-size:17px;
  line-height:1.6;
  font-weight:700;
  color:var(--accent-ink);
}
.card--media .media-meta{
  display:inline-flex;
  margin-bottom:6px;
  font-size:12px;
  font-weight:800;
  letter-spacing:.14em;
  text-transform:uppercase;
  color:var(--muted);
}
.card--media .media-play{
  position:absolute;
  top:14px;
  right:14px;
  padding:8px 14px;
  border-radius:999px;
  background:linear-gradient(135deg, rgba(255,221,232,.9), rgba(223,243,255,.9));
  border:1px dashed rgba(141,55,82,.28);
  color:var(--accent-ink);
  font-weight:900;
  letter-spacing:.12em;
  text-transform:uppercase;
  box-shadow:0 12px 28px rgba(48,38,58,.14);
}
.card--media[data-type="video"] .cover{
  filter:saturate(1.08) contrast(1.06);
}

.card--text{
  position:relative;
  min-height:0;
  border-radius:28px;
  background:var(--paper);
  border:1px solid rgba(48,38,58,.12);
  box-shadow:var(--shadow);
  overflow:visible;
  isolation:isolate;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.card--text::before{
  content:'\2727';
  position:absolute;
  inset:0;
  background:
    linear-gradient(140deg, rgba(255,221,232,.32), rgba(233,224,255,.22) 50%, transparent 78%),
    radial-gradient(110% 110% at -10% -20%, rgba(223,243,255,.25), transparent 55%),
    radial-gradient(120% 120% at 120% 120%, rgba(255,241,182,.2), transparent 62%);
  z-index:0;
}
.card--text::after{
  content:'\\2727';
  position:absolute;
  inset:18px;
  border-radius:22px;
  border:1px dashed rgba(141,55,82,.18);
  opacity:0;
  transform:translateY(12px);
  transition:opacity .35s ease, transform .35s ease;
}
.card--text:hover{
  transform:translateY(-6px);
  box-shadow:0 28px 60px rgba(48,38,58,.18);
  border-color:rgba(255,125,163,.34);
}
.card--text:hover::after{
  opacity:1;
  transform:translateY(0);
}
.card--text .tag{
  display:inline-flex;
  align-items:center;
  gap:6px;
  position:absolute;
  top:18px;
  left:-12px;
  padding:6px 18px;
  background:var(--rose);
  color:var(--accent-ink);
  border:1px dashed rgba(141,55,82,.28);
  border-radius:999px;
  font-size:12px;
  font-weight:900;
  letter-spacing:.1em;
  text-transform:uppercase;
  box-shadow:0 14px 30px rgba(255,125,163,.25);
  transform:rotate(-6deg);
  z-index:2;
}
.card--text .tag::after{
  content:'\2665';
  font-size:11px;
}
.card--text .content{
  position:relative;
  z-index:1;
  padding:32px 26px 26px;
  display:flex;
  flex-direction:column;
  gap:18px;
  border-radius:22px;
  background:linear-gradient(120deg, rgba(255,255,255,.92), rgba(255,255,255,.78));
  backdrop-filter:blur(.5px);
}
.card--text .card-hero{
  position:relative;
  margin:-8px -8px 16px;
  border-radius:20px;
  overflow:hidden;
  aspect-ratio:4/3;
  background:linear-gradient(135deg, rgba(255,221,232,.45), rgba(233,224,255,.32));
  box-shadow:0 24px 40px rgba(48,38,58,.16);
}
.card--text .card-hero img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.card--text .card-meta{
  color:var(--muted);
  font-size:13px;
  letter-spacing:.12em;
  text-transform:uppercase;
  font-weight:800;
}
.card--text .card-meta time{
  color:inherit;
}
.card--text .card-head{
  display:flex;
  align-items:flex-start;
  justify-content:flex-start;
  gap:12px;
}
.card--text .card-head__label{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 14px;
  border-radius:999px;
  background:rgba(255,125,163,.15);
  color:var(--accent-ink);
  font-weight:900;
  font-size:12px;
  letter-spacing:.14em;
  text-transform:uppercase;
}
.card--text .title{
  font-size:clamp(24px,2.8vw,30px);
  margin:0;
  letter-spacing:.01em;
}

.card--text .card-foot{
  margin-top:auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:18px;
}
.card--text .card-tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.card--text .card-tags:empty{
  display:none;
}
.card--text .card-tags .pill{
  padding:5px 12px;
  border-radius:999px;
  background:rgba(48,38,58,.08);
  color:var(--accent-ink);
  font-size:11px;
  font-weight:800;
  letter-spacing:.08em;
  text-transform:uppercase;
  border:1px solid transparent;
  cursor:pointer;
  transition:transform .18s ease, box-shadow .18s ease;
}
.card--text .card-tags .pill:focus-visible{
  outline:3px solid rgba(255,125,163,.4);
  outline-offset:3px;
}
.card--text .card-tags .pill:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 20px rgba(48,38,58,.12);
}
.card--text .card-tags .pill::before{
  content:'#';
  margin-right:4px;
  color:inherit;
}
.card--text .cta{
  display:inline-flex;
  align-items:center;
  gap:8px;
  margin:0;
  font-weight:900;
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--accent-ink);
  pointer-events:none;
}
.card--text .cta-icon{
  font-size:16px;
  transform:translateY(-1px);
  transition:transform .25s ease;
}
.card--text:hover .cta-icon{
  transform:translate(-1px,-1px) translateX(4px);
}

/* Modal */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(2px);display:none;align-items:center;justify-content:center;padding:20px;z-index:60}
.overlay.show{display:flex}
.modal{
  width:min(920px,100%);
  max-height:90vh;
  overflow:auto;
  border-radius:24px;
  background:var(--paper);
  border:1px solid rgba(48,38,58,.10);
  box-shadow:0 30px 80px rgba(0,0,0,.25);
  overscroll-behavior:contain;
  -webkit-overflow-scrolling:touch;
  touch-action:pan-y;
  scroll-behavior:smooth;
  position:relative;
}
.overlay.show .modal{
  animation:modalLift .42s cubic-bezier(.16,1,.3,1);
}
.read-progress{
  position:sticky;
  top:0;
  left:0;
  right:0;
  height:4px;
  background:linear-gradient(90deg, rgba(255,125,163,.15), rgba(233,224,255,.24));
  border-radius:999px;
  overflow:hidden;
  pointer-events:none;
  z-index:2;
}
.read-progress::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(90deg, var(--accent), #ffc7d8);
  width:var(--progress, 0%);
  transition:width .15s ease-out;
}
.modal-head{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid rgba(48,38,58,.08)}
.modal-head h3{margin:0;font-weight:900}
.modal-body{padding:16px}
.modal-foot{display:flex;justify-content:flex-end;gap:8px;padding:12px 16px;border-top:1px solid rgba(48,38,58,.08)}
.btn{display:inline-flex;align-items:center;gap:.5ch;padding:8px 12px;font-size:14px;border-radius:12px;border:1px solid rgba(48,38,58,.12);background:var(--paper)}
.modal-close{
  width:40px;
  height:40px;
  padding:0;
  border-radius:999px;
  font-size:18px;
  font-weight:900;
  gap:0;
  justify-content:center;
  background:linear-gradient(135deg, rgba(255,221,232,.66), rgba(233,224,255,.6));
  border:1px dashed rgba(141,55,82,.28);
  color:var(--accent-ink);
  box-shadow:0 12px 30px rgba(48,38,58,.16);
  line-height:1;
  transition:transform .2s ease, box-shadow .2s ease, background .2s ease;
}
.modal-close:hover{
  transform:translateY(-1px);
  background:linear-gradient(135deg, rgba(255,221,232,.78), rgba(223,243,255,.7));
  box-shadow:0 18px 40px rgba(48,38,58,.2);
}
.modal-close:focus-visible{
  outline:3px solid rgba(255,125,163,.45);
  outline-offset:4px;
}

.media-frame{
  position:relative;
  border-radius:22px;
  overflow:hidden;
  background:linear-gradient(135deg, rgba(255,221,232,.32), rgba(223,243,255,.28));
  box-shadow:0 22px 44px rgba(48,38,58,.16);
  animation:polaroidFloat .5s cubic-bezier(.16,1,.3,1);
}
.media-frame img,
.media-frame video{
  display:block;
  width:100%;
  height:100%;
  border-radius:inherit;
}
.media-frame::after{
  content:"";
  position:absolute;
  inset:-12%;
  background:radial-gradient(circle at 20% 20%, rgba(255,255,255,.35), transparent 40%), radial-gradient(circle at 80% 10%, rgba(255,255,255,.22), transparent 40%);
  opacity:.7;
  pointer-events:none;
}
.image-frame{
  cursor:zoom-in;
}
.image-back{
  position:absolute;
  top:12px;
  left:12px;
  z-index:4;
  padding:8px 14px;
  border-radius:999px;
  border:1px dashed rgba(141,55,82,.28);
  background:rgba(255,221,232,.85);
  color:var(--accent-ink);
  font-weight:900;
  letter-spacing:.08em;
  text-transform:uppercase;
  cursor:pointer;
  backdrop-filter:blur(6px);
  opacity:0;
  pointer-events:none;
  visibility:hidden;
  transform:translateY(-6px);
  transition:opacity .2s ease, transform .2s ease, box-shadow .2s ease;
}
.image-back:hover{
  transform:translateY(-1px);
  box-shadow:0 10px 24px rgba(48,38,58,.18);
}
.image-frame--active{
  position:fixed;
  inset:0;
  margin:0;
  border-radius:0;
  background:#0e0b12;
  box-shadow:none;
  animation:none;
  z-index:80;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:zoom-out;
}
.image-frame--active .image-back,
.image-frame:fullscreen .image-back,
.image-frame:-webkit-full-screen .image-back{
  opacity:1;
  pointer-events:auto;
  visibility:visible;
  transform:translateY(0);
}
.image-frame--active img{
  width:100%;
  height:100%;
  object-fit:contain;
  border-radius:0;
}
.image-frame--active::after{
  display:none;
}
.image-frame:fullscreen,
.image-frame:-webkit-full-screen{
  width:100vw;
  height:100vh;
  margin:0;
  border-radius:0;
  background:#0e0b12;
  box-shadow:none;
  animation:none;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:zoom-out;
}
.image-frame:fullscreen img,
.image-frame:-webkit-full-screen img{
  width:100%;
  height:100%;
  object-fit:contain;
  border-radius:0;
}
.image-frame:fullscreen::after,
.image-frame:-webkit-full-screen::after{
  display:none;
}
.video-controls{
  position:absolute;
  left:14px;
  right:14px;
  bottom:14px;
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px dashed rgba(141,55,82,.22);
  background:linear-gradient(135deg, rgba(255,255,255,.95), rgba(233,224,255,.88));
  box-shadow:0 16px 36px rgba(48,38,58,.2);
  backdrop-filter:blur(8px);
  z-index:4;
}
.video-controls .p-btn{
  background:linear-gradient(135deg, rgba(255,255,255,.98), rgba(255,221,232,.85));
  color:var(--accent-ink);
  font-weight:900;
}
.video-controls .ico{
  width:18px;
  height:18px;
  display:block;
}
.video-controls .ico-pause{
  display:none;
}
.video-controls .p-btn.is-playing .ico-play{
  display:none;
}
.video-controls .p-btn.is-playing .ico-pause{
  display:block;
}
.video-controls .pbar{
  background:rgba(48,38,58,.12);
}
.video-controls .v-full{
  text-transform:uppercase;
  letter-spacing:.08em;
  font-size:12px;
}
.video-back{
  position:absolute;
  top:12px;
  left:12px;
  z-index:4;
  padding:8px 14px;
  border-radius:999px;
  border:1px dashed rgba(141,55,82,.28);
  background:rgba(255,221,232,.85);
  color:var(--accent-ink);
  font-weight:900;
  letter-spacing:.08em;
  text-transform:uppercase;
  cursor:pointer;
  backdrop-filter:blur(6px);
}
.video-back:hover{
  transform:translateY(-1px);
  box-shadow:0 10px 24px rgba(48,38,58,.18);
}
.video-frame--active .video-back{
  position:fixed;
}
.overlay.video-mode{
  padding:0;
}
.overlay.video-mode .modal{
  width:100%;
  height:100vh;
  max-height:100vh;
  border-radius:0;
  background:#0e0b12;
  box-shadow:none;
}
.overlay.video-mode .modal-head,
.overlay.video-mode .modal-foot{
  display:none;
}
.overlay.video-mode .modal-body{
  padding:0;
}
.overlay.video-mode .read-progress{
  opacity:0;
}
.overlay.video-mode .video-frame{
  height:100vh;
  border-radius:0;
}
.overlay.video-mode .video-frame video{
  width:100%;
  height:100%;
  object-fit:contain;
  background:#0e0b12;
}
.overlay.video-mode .media-frame::after{
  display:none;
}
.video-sparkle{
  position:absolute;
  top:12px;
  right:12px;
  width:16px;
  height:16px;
  pointer-events:none;
  background:
    radial-gradient(circle, rgba(255,255,255,.9) 0 40%, transparent 60%),
    conic-gradient(from 90deg, rgba(255,125,163,.6), rgba(223,243,255,.6), rgba(255,241,182,.7), rgba(255,125,163,.6));
  border-radius:50%;
  animation:sparkle 1s ease-out;
  filter:drop-shadow(0 4px 8px rgba(48,38,58,.18));
}

/* Letter */
.letter{
  max-width:780px;
  margin:0 auto;
  padding:clamp(36px,6.5vw,62px);
  background:
    radial-gradient(120% 120% at -10% -20%, rgba(223,243,255,.28), transparent 50%),
    radial-gradient(140% 140% at 110% 120%, rgba(255,221,232,.32), transparent 60%),
    linear-gradient(180deg, #fff, rgba(255,255,255,.92));
  border-radius:36px;
  border:1px solid rgba(48,38,58,.06);
  box-shadow:0 28px 60px rgba(48,38,58,.14), 0 10px 24px rgba(48,38,58,.08);
  display:flex;
  flex-direction:column;
  gap:clamp(26px,4.5vw,36px);
  position:relative;
  overflow:hidden;
  animation:paperGlide .5s cubic-bezier(.16,1,.3,1);
}
.letter::after{
  content:"";
  position:absolute;
  inset:16px;
  border-radius:28px;
  border:1px dashed rgba(141,55,82,.12);
  pointer-events:none;
  opacity:.7;
}
.letter-header{
  display:flex;
  flex-direction:column;
  gap:14px;
}
.letter-label{
  align-self:flex-start;
  padding:6px 14px;
  border-radius:999px;
  background:rgba(255,125,163,.16);
  color:var(--accent-ink);
  font-weight:900;
  font-size:12px;
  letter-spacing:.16em;
  text-transform:uppercase;
}
.letter-date{
  font-size:13px;
  font-weight:800;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--muted);
}
.letter-body{
  font-size:clamp(19px,2.6vw,22px);
  line-height:1.95;
  color:var(--ink);
  display:flex;
  flex-direction:column;
  gap:clamp(18px,3vw,30px);
  font-weight:500;
  max-width:72ch;
  width:100%;
}
.letter-body p{
  margin:0;
  text-wrap:pretty;
  hyphens:auto;
}
.letter-body p:first-of-type{
  font-size:clamp(21px,3vw,25px);
  font-weight:800;
  color:var(--accent-ink);
  line-height:1.8;
}
.letter-list{
  margin:0;
  padding-left:1.2rem;
  display:flex;
  flex-direction:column;
  gap:8px;
  font-weight:600;
  list-style:disc;
}
.letter-body li{
  margin:0;
}
.letter-tags{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  justify-content:flex-start;
}
.letter-tags .card-tags{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}
.letter-tags .pill{
  padding:5px 12px;
  border-radius:999px;
  background:rgba(48,38,58,.08);
  color:var(--accent-ink);
  font-size:11px;
  font-weight:800;
  letter-spacing:.08em;
  text-transform:uppercase;
}
.letter-tags .pill::before{
  content:'#';
  margin-right:4px;
}

/* Player + sticky mini */
.player{display:flex;align-items:center;gap:10px;border:1px solid rgba(48,38,58,.12);background:var(--paper);border-radius:14px;padding:10px 12px;box-shadow:var(--shadow)}
.p-btn{min-width:40px;height:40px;border-radius:999px;border:1px solid rgba(48,38,58,.14);background:linear-gradient(180deg,#fff,#f8f8f8);display:grid;place-items:center}
.p-btn.is-playing{animation:breath 1.4s ease-in-out infinite}
.p-time{display:flex;align-items:center;gap:10px;flex:1;min-width:0}
.p-cur,.p-dur{font-variant-numeric:tabular-nums;color:var(--muted);font-weight:800;font-size:12px}
.pbar{position:relative;flex:1;height:8px;background:#eee;border-radius:999px;overflow:visible;cursor:pointer}
.fill{position:absolute;left:0;top:0;height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#ffc7d8)}

.mini{position:fixed;left:12px;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:70;background:var(--paper);border:1px solid rgba(48,38,58,.14);border-radius:18px;display:flex;align-items:center;gap:12px;padding:10px 12px;box-shadow:0 18px 60px rgba(48,38,58,.18);transition:transform .22s ease,opacity .22s ease}
.mini--hidden{transform:translateY(140%);opacity:.1;pointer-events:none}
.mini-title{font-weight:900;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.mini-sub{font-size:12px;color:var(--muted)}
.mini-bar{flex:1;height:8px;background:#eee;border-radius:999px;overflow:visible;cursor:pointer;touch-action:none}
.mini-prog{width:0%;height:100%;background:linear-gradient(90deg,var(--accent),#ffc7d8)}

/* Gate */
.gate{position:fixed;inset:0;display:grid;place-items:center;background:
  radial-gradient(1200px 700px at 90% -10%, rgba(223,243,255,.55), transparent 60%),
  radial-gradient(1200px 800px at 10% 110%, rgba(255,221,232,.6), transparent 60%),
  var(--bg);z-index:100}
.gate-card{width:min(520px,92%);background:
  radial-gradient(110% 110% at -10% -20%, rgba(223,243,255,.35), transparent 50%),
  radial-gradient(140% 140% at 110% 120%, rgba(255,221,232,.32), transparent 60%),
  linear-gradient(180deg,#fff,rgba(255,255,255,.94));padding:26px;border-radius:26px;border:1px dashed rgba(141,55,82,.18);box-shadow:0 28px 70px rgba(48,38,58,.2);text-align:center;display:flex;flex-direction:column;gap:16px;position:relative;overflow:hidden}
.gate-card::after{
  content:"";
  position:absolute;
  inset:14px;
  border-radius:22px;
  border:1px solid rgba(48,38,58,.06);
  pointer-events:none;
}
.gate h2{margin:.2rem 0 4px;font-weight:900}
.gate p{margin:0 0 6px;color:var(--muted)}
.gate input{
  width:100%;
  padding:12px 16px;
  border-radius:14px;
  border:1px solid rgba(48,38,58,.16);
  font-weight:800;
  box-shadow:0 12px 30px rgba(48,38,58,.08);
  background:linear-gradient(135deg,#fff,rgba(255,221,232,.35));
  transition:border-color .18s ease, box-shadow .18s ease;
  text-align:center;
}
.gate input:focus-visible{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 4px rgba(255,125,163,.28);
}

.gate-actions{
  display:flex;
  flex-direction:column;
  gap:12px;
  margin-top:12px;
  align-items:center;
}
.gate-enter{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  width:100%;
  padding:15px 18px;
  border:none;
  border-radius:999px;
  background:linear-gradient(135deg,var(--accent),#ff9fbf 58%,#ffd1df);
  color:#fff;
  font-weight:900;
  letter-spacing:.08em;
  text-transform:uppercase;
  box-shadow:0 18px 42px rgba(255,125,163,.32);
  cursor:pointer;
  transition:transform .18s ease, box-shadow .18s ease;
}
.gate-enter--success{
  box-shadow:0 22px 48px rgba(255,125,163,.42);
  animation:gateGlow .6s ease;
}
.gate-enter:hover{
  transform:translateY(-1px);
  box-shadow:0 22px 48px rgba(255,125,163,.38);
}
.gate-enter:active{
  transform:translateY(1px);
  box-shadow:0 12px 32px rgba(255,125,163,.26);
}
.gate-enter:focus-visible{
  outline:3px solid rgba(255,125,163,.5);
  outline-offset:4px;
}
.gate-enter__icon{
  width:22px;
  height:22px;
  fill:#fff;
}
.gate-enter__text{
  font-size:14px;
  letter-spacing:.12em;
}
.gate-msg{
  margin:40px 0 0;
  font-weight:700;
  font-size:14px;
  color:var(--accent-ink);
  min-height:0;
  transition:opacity .22s ease, transform .22s ease;
}
.gate-msg:empty{
  display:none;
}
.gate-msg:not(:empty){
  padding:14px 18px;
  border-radius:18px;
  border:1px solid rgba(48,38,58,.08);
  background:linear-gradient(135deg, rgba(255,221,232,.5), rgba(233,224,255,.45));
  box-shadow:0 18px 40px rgba(48,38,58,.12);
}
.gate-msg--error{
  color:#b00020;
  border-color:rgba(255,108,142,.35);
  background:linear-gradient(135deg, rgba(255,188,200,.4), rgba(255,228,232,.6));
}
.gate-msg--hint{
  color:var(--accent-ink);
  border-color:rgba(141,55,82,.28);
  background:linear-gradient(135deg, rgba(255,221,232,.52), rgba(223,243,255,.46));
}

@media (max-width:720px){
  .container{
    padding:24px 14px 64px;
  }
  header{
    flex-direction:column;
    align-items:flex-start;
    gap:16px;
    margin-bottom:24px;
  }
  .brand{
    gap:14px;
    align-items:flex-start;
  }
  .brand h1{
    font-size:28px;
  }
  .subtitle{
    font-size:16px;
    max-width:26ch;
  }
  .logo{
    width:56px;
    height:56px;
    border-radius:18px;
  }
  .head-right{
    width:100%;
    justify-content:flex-start;
  }
  .chip{
    font-size:11px;
    padding:7px 10px;
  }
  .hero{
    padding:20px;
    border-radius:var(--r-lg);
  }
  .star{
    width:54px;
    height:54px;
    right:16px;
    top:14px;
  }
  .tools{
    flex-direction:column;
    align-items:stretch;
    gap:12px;
  }
  .search{
    min-width:0;
    width:100%;
  }
  .search input{
    padding:16px 18px 16px 48px;
    font-size:16px;
  }
  .search .ico{
    width:20px;
    height:20px;
    left:16px;
  }
  .filters{
    flex-wrap:nowrap;
    overflow-x:auto;
    padding-bottom:4px;
    margin:0 -6px;
    padding-inline:6px;
    scrollbar-width:thin;
    scrollbar-color:rgba(48,38,58,.18) transparent;
    -webkit-overflow-scrolling:touch;
  }
  .filters::-webkit-scrollbar{
    height:6px;
  }
  .filters::-webkit-scrollbar-thumb{
    background:rgba(48,38,58,.18);
    border-radius:999px;
  }
  .filter{
    flex:0 0 auto;
  }
  .tool-actions{
    width:100%;
    justify-content:flex-start;
  }
  .message-block{
    margin-top:20px;
    padding:18px;
  }
  .grid{
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    gap:14px;
  }
  .card{
    border-radius:22px;
  }
  .card--text{
    border-radius:24px;
  }
  .card--text::after{
    inset:14px;
  }
  .card--text .content{
    padding:26px 20px 24px;
    gap:14px;
  }
  .card--text .card-head{
    flex-direction:column;
    align-items:flex-start;
    gap:6px;
  }
  .card--text .card-head__label{
    font-size:11px;
  }
  .card--text .card-foot{
    flex-direction:column;
    align-items:flex-start;
    gap:12px;
  }
  .card--text .cta{
    align-self:flex-end;
    font-size:11px;
    letter-spacing:.16em;
  }
  .card--text .tag{
    left:-6px;
    transform:rotate(-4deg);
    font-size:11px;
    padding:6px 14px;
  }
  .card--media .media-plate{
    padding:12px 14px 14px;
  }
  .card--media .media-title{
    font-size:clamp(20px,5vw,26px);
  }
  .card--media .media-sub{
    font-size:15px;
  }
  .modal{
    border-radius:18px;
  }
  .mini{
    left:10px;
    right:10px;
  }
}

@media (max-width:640px){
.overlay{
  align-items:flex-start;
  justify-content:center;
  padding:12px;
  backdrop-filter:none;
  }
  .modal{
    width:100%;
    max-height:100vh;
    border-radius:20px;
    margin-top:12px;
    box-shadow:0 22px 44px rgba(48,38,58,.18);
  }
  .modal-head,
  .modal-body,
  .modal-foot{
    padding-left:20px;
    padding-right:20px;
  }
  .modal-body{
    padding-top:20px;
    padding-bottom:20px;
  }
  .letter{
    padding:26px 20px 32px;
    border-radius:20px;
    box-shadow:none;
  }
}

@media (max-width:520px){
  header{
    gap:18px;
  }
  .brand h1{
    font-size:26px;
  }
  .subtitle{
    font-size:15px;
  }
  .chip{
    font-size:10px;
  }
  .hero h2{
    font-size:24px;
  }
  .hero p{
    font-size:15px;
  }
  .message-title{
    font-size:22px;
  }
  .message-text{
    font-size:15px;
  }
  .card{
    min-height:0;
  }
  .card--text{
    border-radius:22px;
  }
  .card--text::after{
    inset:12px;
  }
  .card--text .content{
    padding:24px 18px 22px;
  }
  .card--text .card-head__label{
    font-size:10px;
    letter-spacing:.12em;
  }
  .card--text .cta{
    font-size:10px;
    letter-spacing:.14em;
  }
  .card--text .tag{
    left:-4px;
    font-size:10px;
    padding:5px 12px;
  }
  .card--media .media-title{
    font-size:clamp(20px,5.5vw,24px);
  }
  .card--media .media-sub{
    font-size:14px;
  }
  .card--media .media-play{
    font-size:11px;
    padding:6px 10px;
  }
  .gate-card{
    padding:24px 18px 26px;
    border-radius:22px;
  }
  .gate h2{
    font-size:24px;
  }
  .gate p{
    font-size:15px;
  }
  .gate-enter{
    padding:14px 18px;
    gap:10px;
    box-shadow:0 16px 36px rgba(255,125,163,.28);
  }
  .gate-enter__icon{
    width:20px;
    height:20px;
  }
  .gate-enter__text{
    font-size:13px;
  }
  .gate-msg{
    font-size:13px;
  }
}

@media (max-width:400px){
  .hero{
    padding:18px;
  }
  .star{
    display:none;
  }
  .filters{
    gap:6px;
  }
  .filter{
    padding:7px 10px;
    font-size:12px;
  }
  .card--text .content{
    padding:22px 16px 20px;
  }
  .card--text .title{
    font-size:22px;
  }
  .card--text .card-foot{
    gap:10px;
  }
  .card--text .cta{
    align-self:flex-start;
    font-size:10px;
    letter-spacing:.12em;
  }
  .card--text .tag{
    left:-2px;
    transform:rotate(-2deg);
  }
  .gate-card{
    padding:24px 16px 26px;
  }
  .gate-enter{
    font-size:12px;
    letter-spacing:.1em;
  }
  .gate-enter__text{
    font-size:12px;
  }
}

@media (min-width:520px){
  .gate-actions{
    flex-direction:row;
    align-items:center;
    justify-content:center;
  }
  .gate-enter{
    width:auto;
    min-width:240px;
    padding:15px 28px;
  }
}

@media (prefers-reduced-motion:reduce){
  .card,
  .card::before,
  .card::after,
  .card *{
    transition:none !important;
  }
  .card:hover,
  .card--text:hover{
    transform:none;
  }
  .card--text::after{
    transform:none;
  }
  .card--text .cta-icon{
    transform:translateY(-1px);
  }
  .modal,
  .letter,
  .media-frame,
  .card.card-pop,
  .p-btn.is-playing,
  .overlay.show .modal{
    animation:none !important;
  }
}

.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:visible;clip:rect(0,0,0,0);white-space:nowrap;border:0}

@media(min-width:880px){ .hero{padding:28px 28px 32px} }
  [hidden]{display:none !important}

/* Particles */
.particle-heart{
  position:fixed;
  width:18px;
  height:18px;
  background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), transparent 50%), #FF7DA3;
  mask:radial-gradient(circle at 30% 30%, rgba(0,0,0,1) 0 40%, transparent 55%), linear-gradient(135deg, #000 50%, transparent 51%);
  clip-path:polygon(50% 0%, 61% 12%, 75% 12%, 88% 25%, 88% 39%, 50% 100%, 12% 39%, 12% 25%, 25% 12%, 39% 12%);
  opacity:1;
  pointer-events:none;
  z-index:999;
  filter:drop-shadow(0 8px 14px rgba(48,38,58,.25));
}

/* Animations */
@keyframes modalLift{
  0%{transform:translateY(12px) scale(.98);opacity:0;filter:blur(2px)}
  100%{transform:translateY(0) scale(1);opacity:1;filter:blur(0)}
}
@keyframes paperGlide{
  0%{transform:translateY(12px) scale(.99);opacity:0}
  100%{transform:translateY(0);opacity:1}
}
@keyframes polaroidFloat{
  0%{transform:translateY(10px) rotate(-2deg);opacity:0}
  100%{transform:translateY(0) rotate(0deg);opacity:1}
}
@keyframes sparkle{
  0%{transform:scale(.8) rotate(-10deg);opacity:0}
  30%{opacity:1}
  100%{transform:scale(1.2) rotate(10deg);opacity:0}
}
@keyframes breath{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.05)}
}
@keyframes cardPop{
  0%{transform:translateY(8px) scale(.98);opacity:0}
  100%{transform:translateY(0) scale(1);opacity:1}
}
@keyframes gateGlow{
  0%{box-shadow:0 12px 32px rgba(255,125,163,.28)}
  100%{box-shadow:0 22px 48px rgba(255,125,163,.46)}
}
